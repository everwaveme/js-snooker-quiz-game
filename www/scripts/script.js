const questions = [
  {
    question: "–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –°—Ç–∏–≤ –î—ç–≤–∏—Å –≤—ã–∏–≥—Ä—ã–≤–∞–ª –ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞ –ø–æ —Å–Ω—É–∫–µ—Ä—É?",
		answers: [
      "4",
      "5",
      "6",
      "7",
    ],
		correct: 3,
  },
  {
    question: "–ö—Ç–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –∏–º–µ–µ—Ç –ø—Ä–æ–∑–≤–∏—â–µ \"–ü–∏—Å—Ç–æ–ª–µ—Ç\"?",
		answers: [
      "–ë–µ–Ω –í—É–ª–ª–∞—Å—Ç–æ–Ω",
      "–ú–∞—Ä–∫ –ê–ª–ª–µ–Ω",
      "–õ—é–∫–∞ –ë—Ä–µ—Å–µ–ª—å",
      "–î–∂–µ–∫ –õ–∏—Å–æ–≤—Å–∫–∏",
    ],
		correct: 2,
  },
  {
    question: "–ö–æ–º—É –≤–ø–µ—Ä–≤—ã–µ –ø–æ–∫–æ—Ä–∏–ª–∞—Å—å –æ—Ç–º–µ—Ç–∫–∞ –≤ 1000 —Å–æ—Ç–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π –≤ –∫–∞—Ä—å–µ—Ä–µ?",
		answers: [
      "–î–∂–∞–¥–¥ –¢—Ä–∞–º–ø",
      "–î–∂–æ–Ω –•–∏–≥–≥–∏–Ω—Å",
      "–ê–Ω–¥–µ—Ä—Å –ü–µ—Ç—Ä–æ–≤",
      "–†–æ–Ω–Ω–∏ –û'–°–∞–ª–ª–∏–≤–∞–Ω",
    ],
		correct: 4,
  },
  {
    question: "–ö–∞–∫–æ–π –∫—Ä—É–ø–Ω—ã–π —Å–Ω—É–∫–µ—Ä–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–º Alexandra Palace?",
		answers: [
      "–ß–µ–º–ø–∏–æ–Ω–∞—Ç –ë—Ä–∏—Ç–∞–Ω–∏–∏",
      "–ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞",
      "Masters",
      "German Masters",
    ],
		correct: 3,
  },
  {
    question: "–í –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–µ –∑–∞—Ä–æ–¥–∏–ª—Å—è —Å–Ω—É–∫–µ—Ä?",
		answers: [
      "–ò–Ω–¥–∏—è",
      "–ï–≥–∏–ø–µ—Ç",
      "–ê–Ω–≥–ª–∏—è",
      "–ë–µ–ª–∞—Ä—É—Å—å",
    ],
		correct: 1,
  },
  {
    question: "–ù–∞ –∫–∞–∫–æ–º —Ç—É—Ä–Ω–∏—Ä–µ –±—ã–ª —Å–¥–µ–ª–∞–Ω –ø–µ—Ä–≤—ã–π –º–∞–∫—Å–∏–º—É–º?",
		answers: [
      "–ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞",
      "–ü—Ä–µ–º—å–µ—Ä –õ–∏–≥–∞",
      "Lada Classic",
      "Strachan Open",
    ],
		correct: 3,
  },
  {
    question: "–ó–∞ –∫–∞–∫–æ–π —Ñ—É—Ç–±–æ–ª—å–Ω—ã–π –∫–ª—É–± –±–æ–ª–µ–µ—Ç –ù–∏–ª –†–æ–±–µ—Ä—Ç—Å–æ–Ω?",
		answers: [
      "–ú–∞–Ω—á–µ—Å—Ç–µ—Ä –°–∏—Ç–∏",
      "–ß–µ–ª—Å–∏",
      "–°–ø–∞—Ä—Ç–∞–∫",
      "–ê—Ä—Å–µ–Ω–∞–ª",
    ],
		correct: 2,
  },
  {
    question: "–ö–∞–∫–æ–µ –ø—Ä–æ–∑–≤–∏—â–µ –Ω–æ—Å–∏—Ç —Ä–µ—Ñ–µ—Ä–∏ –Ø–Ω –í–µ—Ä—Ö–∞–∞—Å?",
		answers: [
      "–õ–µ—Ç—É—á–∏–π –≥–æ–ª–ª–∞–Ω–¥–µ—Ü",
      "–ú–∏—Å—Ç–µ—Ä –ë–∏–Ω",
      "–í—Å–µ–º–æ–≥—É—â–∏–π",
      "–î–∂–µ–π–º—Å –ë–æ–Ω–¥",
    ],
		correct: 4,
  },
  {
    question: "–†—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å —Å–Ω—É–∫–µ—Ä–∞?",
		answers: [
      "–í–æ–ª–æ–¥–∏–º–∏—Ä –°–æ—Ä–æ–∫–∏–Ω",
      "–í–ª–∞–¥–∏—Å–ª–∞–≤ –°–∏–Ω–∏—á–∫–∏–Ω",
      "–ë–æ—Ä–∏—Å –°–∫–≤–æ—Ä—Ü–æ–≤",
      "–í–ª–∞–¥–∏–º–∏—Ä –°–∏–Ω–∏—Ü—ã–Ω",
    ],
		correct: 4,
  },
  {
    question: "–ò–≥—Ä–æ–∫, –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–≤—à–∏–π –≤ —Å–Ω—É–∫–µ—Ä–µ –≤ 90-—Ö –≥–æ–¥–∞—Ö?",
		answers: [
      "–°—Ç–∏–≤ –î—ç–≤–∏—Å",
      "–î–∂–æ–Ω –ü—ç—Ä—Ä–æ—Ç",
      "–°—Ç–∏–≤–µ–Ω –•–µ–Ω–¥—Ä–∏",
      "–†–æ–Ω–Ω–∏ –û'–°–∞–ª–ª–∏–≤–∞–Ω",
    ],
		correct: 3,
  },
  {
    question: "–í 1979 –≥–æ–¥—É –¢–µ—Ä—Ä–∏ –ì—Ä–∏—Ñ—Ñ–∏—Ç—Å —Å—Ç–∞–ª –ø–µ—Ä–≤—ã–º —á–µ–º–ø–∏–æ–Ω–æ–º –º–∏—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø–∞–ª –Ω–∞ —Ç–æ—Ç —á–µ–º–ø–∏–æ–Ω–∞—Ç —á–µ—Ä–µ–∑ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é. –ö—Ç–æ —Å–ø—É—Å—Ç—è –º–Ω–æ–≥–æ –ª–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏–ª —ç—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ?",
		answers: [
      "–ú–∞—Ä–∫ –°–µ–ª–±–∏",
      "–ì—Ä—ç–º –î–æ—Ç—Ç",
      "–®–æ–Ω –ú–µ—Ä—Ñ–∏",
      "–°—Ç—é–∞—Ä—Ç –ë–∏–Ω—Ö—ç–º",
    ],
		correct: 3,
  },
  {
    question: "–ü–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ–≥ —Å–¥–µ–ª–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –Ω–∞ –ß–µ–º–ø–∏–æ–Ω–∞—Ç–µ –º–∏—Ä–∞?",
		answers: [
      "–†—ç–π –†–∏–∞—Ä–¥–æ–Ω",
      "–ö–ª–∏—Ñ—Ñ –¢–æ—Ä–±—É—Ä–Ω",
      "–°—Ç–∏–≤ –î—ç–≤–∏—Å",
      "–ê–ª–µ–∫—Å –•–∏–≥–≥–∏–Ω—Å",
    ],
		correct: 2,
  },
  {
    question: "–ö—Ç–æ –∏–∑ –∑–Ω–∞–º–µ–Ω–∏—Ç—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –≤—ã—Å—Ç—É–ø–∏–ª –≤ –ö—Ä—É—Å–∏–±–ª–µ –≤ 1987 –≥–æ–¥—É –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –≤ –∫–∞—Ä—å–µ—Ä–µ?",
		answers: [
      "–†—ç–π –†–∏–∞—Ä–¥–æ–Ω",
      "–î—É–≥ –ú–∞—É–Ω—Ç–¥–∂–æ–π",
      "–í–∏–ª–ª–∏ –¢–æ—Ä–Ω",
      "–§—Ä–µ–¥ –î—ç–≤–∏—Å",
    ],
		correct: 1,
  },
  {
    question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –±—ã–ª–æ –°—Ç–∏–≤–µ–Ω—É –•–µ–Ω–¥—Ä–∏, –∫–æ–≥–¥–∞ –æ–Ω —Å—Ç–∞–ª —Å–∞–º—ã–º –º–æ–ª–æ–¥—ã–º —á–µ–º–ø–∏–æ–Ω–æ–º –º–∏—Ä–∞ —Å—Ä–µ–¥–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –≤ 1990 –≥–æ–¥—É?",
		answers: [
      "19",
      "20",
      "21",
      "22",
    ],
		correct: 3,
  },
  {
    question: "–ò–∑ –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω—ã –±—ã–≤—à–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–≥—Ä–æ–∫ –≤ —Å–Ω—É–∫–µ—Ä –¢–æ–Ω–∏ –î—Ä–∞–≥–æ?",
		answers: [
      "–ò—Ç–∞–ª–∏—è",
      "–ò—Ä–ª–∞–Ω–¥–∏—è",
      "–¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω",
      "–ú–∞–ª—å—Ç–∞",
    ],
		correct: 4,
  },
  {
    question: "–ö–∞–∫–æ–π –∏–≥—Ä–æ–∫ –±—ã–ª –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–æ–≤–æ–º —Ä–µ–π—Ç–∏–Ω–≥–µ —Å –º–∞—è 1975 –ø–æ –∞–ø—Ä–µ–ª—å 1981 –≥–æ–¥–∞?",
		answers: [
      "–°—Ç–∏–≤ –î—ç–≤–∏—Å",
      "–†—ç–π –†–∏–∞—Ä–¥–æ–Ω",
      "–ê–ª–µ–∫—Å –•–∏–≥–≥–∏–Ω—Å",
      "–§—Ä–µ–¥ –î—ç–≤–∏—Å",
    ],
		correct: 2,
  },
  {
    question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–æ—à–µ–ª –ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞ –ø–æ —Å–Ω—É–∫–µ—Ä—É –≤ —Ç–µ–∞—Ç—Ä–µ \"–ö—Ä—É—Å–∏–±–ª\"?",
		answers: [
      "1976",
      "1977",
      "1978",
      "1979",
    ],
		correct: 2,
  },
  {
    question: "–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ñ–∏–Ω–∞–ª –ß–µ–º–ø–∏–æ–Ω–∞—Ç–∞ –º–∏—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–ª—Å—è –≤ —Ä–µ—à–∞—é—â–µ–º —Ñ—Ä–µ–π–º–µ —Å —Ç–µ—Ö –ø–æ—Ä, –∫–∞–∫ –µ–≥–æ —Å—Ç–∞–ª–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –≤ –ö—Ä—É—Å–∏–±–ª–µ?",
		answers: [
      "3",
      "6",
      "12",
      "5",
    ],
		correct: 1,
  },
  {
    question: "–ö—Ç–æ –∏–∑ —á–µ–º–ø–∏–æ–Ω–æ–≤ –º–∏—Ä–∞ –ø–æ —Å–Ω—É–∫–µ—Ä—É —Ç–∞–∫–∂–µ –≤—ã–∏–≥—Ä—ã–≤–∞–ª –ß–µ–º–ø–∏–æ–Ω–∞—Ç –º–∏—Ä–∞ –ø–æ –ø—É–ª—É-–≤–æ—Å—å–º–µ—Ä–∫–µ?",
		answers: [
      "–õ—é–∫–∞ –ë—Ä–µ—Å–µ–ª—å",
      "–°—Ç–∏–≤–µ–Ω –•–µ–Ω–¥—Ä–∏",
      "–ú–∞—Ä–∫ –°–µ–ª–±–∏",
      "–ù–∏–ª –†–æ–±–µ—Ä—Ç—Å–æ–Ω",
    ],
		correct: 3,
  },
  {
    question: "–ö—Ç–æ –∏–∑ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø–æ–¥—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Ç–∞–∫—Å–∏—Å—Ç–æ–º –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –æ—Ç —Å–Ω—É–∫–µ—Ä–∞ –≤—Ä–µ–º—è?",
		answers: [
      "–°—Ç–∏–≤–µ–Ω –ú–∞–≥—É–∞–π—Ä",
      "–Ø–Ω—å –ë–∏–Ω—Ç–∞–æ",
      "–î—ç–≤–∏–¥ –ì–∏–ª–±–µ—Ä—Ç",
      "–ì—ç—Ä–∏ –£–∏–ª—Å–æ–Ω",
    ],
		correct: 4,
  },
];

const headerContainer = document.querySelector('#header');
const listContainer = document.querySelector('#list');
const submitBtn = document.querySelector('#submit');

let score = 0;
let questionIndex = 0;

welcomePage();
submitBtn.onclick = startGame;

function welcomePage() {
  const welcomeTemplate = `
    <div class="pic rotate">%pic%</div>
    <h2 class="title">%title%</h2>
    <p class="subtitle">%subtitle%</p>
  `;
  const welcomePic = `<img src="images/ded-1.png">`;
  const welcomeTitle = '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–≤–∏–∑ –æ —Å–Ω—É–∫–µ—Ä–µ!ü§©';
  const welcomeSubtitle = '–û—Ç–≤–µ—Ç—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ –≤—Å–µ 20 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –†–æ–Ω–Ω–∏ –û\'–°–∞–ª–ª–∏–≤–∞–Ω–∞ –≤–æ—Å—å–º–∏–∫—Ä–∞—Ç–Ω—ã–º —á–µ–º–ø–∏–æ–Ω–æ–º –º–∏—Ä–∞!üèÜ';
  const welcomeMessage = welcomeTemplate.replace('%pic%', welcomePic)
                                        .replace('%title%', welcomeTitle)
                                        .replace('%subtitle%', welcomeSubtitle);

  headerContainer.innerHTML = welcomeMessage;
  submitBtn.innerText = '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É!';
}

function startGame() {
  clearPage(); //–æ—á–∏—Å—Ç–∫–∞ html —Ä–∞–∑–º–µ—Ç–∫–∏
  showQuestion(); //–∑–∞–ø—É—Å–∫–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã
  submitBtn.innerText = '–û—Ç–≤–µ—Ç–∏—Ç—å';
  submitBtn.onclick = checkAnswer;
}

function clearPage() {
  headerContainer.innerHTML = '';
  listContainer.innerHTML = '';
}

//–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å
function showQuestion() {
  const headerTemplate = `<h2 class="title">%title%</h2>`;
  const title = headerTemplate.replace('%title%', questions[questionIndex]['question']);
  headerContainer.innerHTML = title;

  //–≤—ã–≤–æ–¥–∏–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ —Ü–∏–∫–ª –æ–±—Ö–æ–¥–∞
  let answerNumber = 1;
  for (answerText of questions[questionIndex]['answers']) {
    const questionTemplate =
      `<li>
        <label>
          <input type="radio" class="answer" name="answer" value="%number%">
          <span>%answer%</span>
        </label>
      </li>`;
    let answerHTML = questionTemplate.replace('%answer%', answerText)
                                     .replace('%number%', answerNumber);

    listContainer.innerHTML += answerHTML;
    answerNumber++;
  }
}

function checkAnswer() {
  //–Ω–∞—Ö–æ–¥–∏–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫—É
  const checkedRadio = listContainer.querySelector('input[type="radio"]:checked');

  //–µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω, —Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è
  if (!checkedRadio) {
    return;
  }

  //–ø–æ–ª—É—á–∞–µ–º –Ω–æ–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const userAnswer = parseInt(checkedRadio.value);

  //–µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –≤–µ—Ä–µ–Ω - score++
  if (userAnswer === questions[questionIndex]['correct']) {
    score++;
  }

  //–ø—Ä–æ–≤–µ—Ä—è–µ–º –±—ã–ª –ª–∏ –≤–æ–ø—Ä–æ—Å –ø–æ—Å–ª–µ–¥–Ω–∏–º
  if (questionIndex !== questions.length - 1) {
    questionIndex++;
    clearPage();
    showQuestion();
  } else {
    clearPage();
    showResults();
  }
}

function showResults() {
  const resultsTemplate = `
      <div class="pic scale">%pic%</div>
      <h2 class="title">%title%</h2>
      <h3 class="message">%message%</h3>
      <p class="result">%result%</p>
    `;
  let pic, title, message;

  //–í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç–æ–≤ –ø—Ä–∏ —Ä–∞–∑–Ω–æ–º score
  if (score === questions.length) {
    pic = `<img src="images/ded-2.png">`;
    title = '–î–∞ –≤—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –∑–Ω–∞—Ç–æ–∫ —Å–Ω—É–∫–µ—Ä–∞!ü§ì';
    message = '–ë–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞–º –†–æ–Ω–Ω–∏ —Å—Ç–∞–ª –≤–æ—Å—å–º–∏–∫—Ä–∞—Ç–Ω—ã–º —á–µ–º–ø–∏–æ–Ω–æ–º –º–∏—Ä–∞!';
  } else if ((score * 100) / questions.length >= 50) {
    pic = `<img src="images/ded-3.png">`;
    title = '–í—ã —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç–µ—Å—å –≤ —Å–Ω—É–∫–µ—Ä–µ!üëå';
    message = '–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –±–æ–ª—å—à–µ, —á–µ–º –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –≤–æ–ø—Ä–æ—Å–æ–≤!üòç';
  } else {
    pic = `<img src="images/ded-4.png">`;
    title = '–ü–æ—Ö–æ–∂–µ, –≤—ã —Å–æ–≤—Å–µ–º –Ω–µ–¥–∞–≤–Ω–æ —É–∑–Ω–∞–ª–∏ –æ —Å–Ω—É–∫–µ—Ä–µü•∫';
    message = '–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–µ–Ω—å—à–µ, —á–µ–º –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –≤–æ–ø—Ä–æ—Å–æ–≤...';
  }

  //—Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  let result = `–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${score} –∏–∑ ${questions.length}`;

  //–ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ resultsTemplate
  const finalMessage = resultsTemplate.replace('%pic%', pic)
                        .replace('%title%', title)
                        .replace('%message%', message)
                        .replace('%result%', result);

  headerContainer.innerHTML = finalMessage;

  //–º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –≤ –∫–Ω–æ–ø–∫–µ
  submitBtn.innerText = '–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ!';
  submitBtn.onclick = ()=>{history.go()};
}
